# Coturn TURN Server Configuration
# This configuration file is used by the Coturn Docker container

# Listening interfaces
listening-port=3478
listening-ip=0.0.0.0

# Relay interfaces (for media relay)
relay-ip=0.0.0.0

# External IP (set this to your public IP in production)
# external-ip=YOUR_PUBLIC_IP

# Realm and domain
realm=${TURN_REALM:-localhost}
server-name=${TURN_REALM:-localhost}

# Authentication
# Use shared secret for TURN REST API (time-limited credentials)
use-auth-secret
static-auth-secret=${TURN_SHARED_SECRET:-2OzimVpRm5Jani7NM8VsqZpaP6rrUjZeZs8LBj1ud-4}

# Alternatively, use static user/password (less secure, for development)
# user=${TURN_USERNAME:-turnuser}:${TURN_PASSWORD:-turnpass}

# No authentication for localhost (development only)
# no-auth

# Logging (use /var/tmp instead of /var/log for Docker compatibility)
log-file=/var/tmp/turnserver.log
verbose
fingerprint
lt-cred-mech

# TLS/DTLS (optional, for secure TURNS)
# cert=/path/to/cert.pem
# pkey=/path/to/key.pem

# Relay ports range (for RTP media)
min-port=49152
max-port=65535

# Deny access to private IP ranges (security)
denied-peer-ip=0.0.0.0-0.255.255.255
denied-peer-ip=10.0.0.0-10.255.255.255
denied-peer-ip=172.16.0.0-172.31.255.255
denied-peer-ip=192.168.0.0-192.168.255.255

# Allow access to localhost (for development)
allowed-peer-ip=127.0.0.1
allowed-peer-ip=::1

# User quota (per user, in bytes)
user-quota=0

# Total quota (in bytes)
total-quota=0

# Max session time (in seconds, 0 = unlimited)
# Note: Some coturn versions use different syntax
# max-session-time=3600

# Max bandwidth (in bytes per second, 0 = unlimited)
max-bps=0

# Process user and group (commented out - Docker container runs as root)
# proc-user=turnserver
# proc-group=turnserver

# No CLI interface (daemon mode)
no-cli

# No configuration file reload (commented out - may cause syntax issues)
# no-config-reload

# PID file
pidfile=/var/run/turnserver.pid





